{"ast":null,"code":"import _toConsumableArray from\"/Users/davidbeninson/Desktop/Desktop/published/todolistapp/todo_app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/davidbeninson/Desktop/Desktop/published/todolistapp/todo_app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useEffect}from\"react\";import TodoList from\"./TodoList\";import{v4 as uuidv4}from\"uuid\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LOCAL_STORAGE_KEY='todosApp.todos';function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var todoNameRef=useRef();useEffect(function(){var storedTodos=JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));console.log(storedTodos);if(storedTodos)setTodos(storedTodos);},[]);useEffect(function(){localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(todos));},[todos]);function togolTodo(id){var newTodos=_toConsumableArray(todos);var todo=newTodos.find(function(todo){return todo.id===id;});todo.complete=!todo.complete;setTodos(newTodos);}function addTodo(e){var name=todoNameRef.current.value;if(name===\"\")return;setTodos(function(prevTodo){return[].concat(_toConsumableArray(prevTodo),[{id:uuidv4(),name:name,complete:false}]);});todoNameRef.current.value=null;}function clearTodo(){var newTodos=todos.filter(function(todo){return!todo.complete;});setTodos(newTodos);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{ref:todoNameRef,type:\"text\",placeholder:\"Enter a new task\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:addTodo,children:\"Add task\"}),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:clearTodo,children:\"Clear task\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Yuo have \",todos.filter(function(todo){return!todo.complete;}).length,\" tasks left\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TodoList,{todoList:todos,togolTodo:togolTodo})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","useEffect","TodoList","v4","uuidv4","LOCAL_STORAGE_KEY","App","todos","setTodos","todoNameRef","storedTodos","JSON","parse","localStorage","getItem","console","log","setItem","stringify","togolTodo","id","newTodos","todo","find","complete","addTodo","e","name","current","value","prevTodo","clearTodo","filter","length"],"sources":["/Users/davidbeninson/Desktop/Desktop/published/todolistapp/todo_app/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport TodoList from \"./TodoList\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport \"./App.css\";\n\nconst LOCAL_STORAGE_KEY = 'todosApp.todos'\n\nfunction App() {\n\n  const [todos, setTodos] = useState([]);\n  const todoNameRef = useRef();\n\n  useEffect(() => {\n    const storedTodos = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n    console.log(storedTodos);\n    if (storedTodos) setTodos(storedTodos);\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(todos));\n  }, [todos]);\n\n  function togolTodo(id){\n    const newTodos =[...todos]\n    const todo = newTodos.find(todo => todo.id === id)\n    todo.complete = !todo.complete\n    setTodos(newTodos)\n  }\n\n  function addTodo(e) {\n    let name = todoNameRef.current.value;\n    if (name === \"\") return;\n    setTodos((prevTodo) => {\n      return [...prevTodo, { id: uuidv4(), name: name, complete: false }];\n    });\n    todoNameRef.current.value = null;\n  }\n\n  function clearTodo(){\n    const newTodos =todos.filter(todo=>!todo.complete)\n    setTodos(newTodos)\n\n  }\n\n  return (\n    <>\n      <input ref={todoNameRef} type=\"text\" placeholder=\"Enter a new task\" />\n      <br/>\n      <button onClick={addTodo}>Add task</button>{\" \"}\n      <button onClick={clearTodo}>Clear task</button>\n      <br/>\n      <br/>\n      <div>Yuo have {todos.filter(todo=>!todo.complete).length} tasks left</div>\n      <br/>\n      <TodoList todoList={todos} togolTodo={togolTodo}/>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"0TAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAC1D,MAAOC,SAAQ,KAAM,YAAY,CACjC,OAASC,EAAE,GAAIC,OAAM,KAAQ,MAAM,CACnC,MAAO,WAAW,CAAC,6IAEnB,GAAMC,kBAAiB,CAAG,gBAAgB,CAE1C,QAASC,IAAG,EAAG,CAEb,cAA0BP,QAAQ,CAAC,EAAE,CAAC,wCAA/BQ,KAAK,eAAEC,QAAQ,eACtB,GAAMC,YAAW,CAAGT,MAAM,EAAE,CAE5BC,SAAS,CAAC,UAAM,CACd,GAAMS,YAAW,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACT,iBAAiB,CAAC,CAAC,CACvEU,OAAO,CAACC,GAAG,CAACN,WAAW,CAAC,CACxB,GAAIA,WAAW,CAAEF,QAAQ,CAACE,WAAW,CAAC,CACxC,CAAC,CAAE,EAAE,CAAC,CAENT,SAAS,CAAC,UAAM,CACdY,YAAY,CAACI,OAAO,CAACZ,iBAAiB,CAAEM,IAAI,CAACO,SAAS,CAACX,KAAK,CAAC,CAAC,CAChE,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAEX,QAASY,UAAS,CAACC,EAAE,CAAC,CACpB,GAAMC,SAAQ,oBAAMd,KAAK,CAAC,CAC1B,GAAMe,KAAI,CAAGD,QAAQ,CAACE,IAAI,CAAC,SAAAD,IAAI,QAAIA,KAAI,CAACF,EAAE,GAAKA,EAAE,GAAC,CAClDE,IAAI,CAACE,QAAQ,CAAG,CAACF,IAAI,CAACE,QAAQ,CAC9BhB,QAAQ,CAACa,QAAQ,CAAC,CACpB,CAEA,QAASI,QAAO,CAACC,CAAC,CAAE,CAClB,GAAIC,KAAI,CAAGlB,WAAW,CAACmB,OAAO,CAACC,KAAK,CACpC,GAAIF,IAAI,GAAK,EAAE,CAAE,OACjBnB,QAAQ,CAAC,SAACsB,QAAQ,CAAK,CACrB,mCAAWA,QAAQ,GAAE,CAAEV,EAAE,CAAEhB,MAAM,EAAE,CAAEuB,IAAI,CAAEA,IAAI,CAAEH,QAAQ,CAAE,KAAM,CAAC,GACpE,CAAC,CAAC,CACFf,WAAW,CAACmB,OAAO,CAACC,KAAK,CAAG,IAAI,CAClC,CAEA,QAASE,UAAS,EAAE,CAClB,GAAMV,SAAQ,CAAEd,KAAK,CAACyB,MAAM,CAAC,SAAAV,IAAI,QAAE,CAACA,IAAI,CAACE,QAAQ,GAAC,CAClDhB,QAAQ,CAACa,QAAQ,CAAC,CAEpB,CAEA,mBACE,wCACE,cAAO,GAAG,CAAEZ,WAAY,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,kBAAkB,EAAG,cACtE,aAAK,cACL,eAAQ,OAAO,CAAEgB,OAAQ,sBAAkB,CAAC,GAAG,cAC/C,eAAQ,OAAO,CAAEM,SAAU,wBAAoB,cAC/C,aAAK,cACL,aAAK,cACL,mCAAexB,KAAK,CAACyB,MAAM,CAAC,SAAAV,IAAI,QAAE,CAACA,IAAI,CAACE,QAAQ,GAAC,CAACS,MAAM,iBAAkB,cAC1E,aAAK,cACL,KAAC,QAAQ,EAAC,QAAQ,CAAE1B,KAAM,CAAC,SAAS,CAAEY,SAAU,EAAE,GACjD,CAEP,CAEA,cAAeb,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}